<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ä°rem KÄ±zÄ±ltepe | Geomatics Engineer</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/ol@latest/dist/ol.js"></script>

  <!-- Leaflet Map Library -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
</head>

<body>
  <div class="background"></div>

  <!-- Sidebar -->
  <div class="sidebar">
    <div class="profile-section">
      <img src="images/IMG_7609.jpeg" alt="Profile Photo" class="profile-pic" />
      <h2>Ä°rem KÄ±zÄ±ltepe</h2>
      <p>Geomatics Engineer</p>
      <nav>
        <a href="#" onclick="showSection('home')">Home</a>
        <a href="#" onclick="showSection('about')">About Me</a>
        <a href="#" onclick="showSection('experience')">Experience</a>
        <a href="#" onclick="showSection('travel')">Travel</a>
        <a href="#" onclick="showSection('contact')">Contact</a>
      </nav>
    </div>
  </div>

  <div class="content">
    <!-- Home -->
    <section id="home" class="section visible">
      <div class="home-content">
        <h1 class="home-name">Ä°rem KÄ±zÄ±ltepe</h1>
        <p class="animated-text">Exploring Space, Land, and Data</p>
        <div class="home-buttons">
          <button onclick="showSection('about')">ğŸ“„ About Me</button>
          <button onclick="showSection('experience')">ğŸŒ Experience</button>
          <button onclick="showSection('contact')">ğŸ“¬ Contact</button>
        </div>
      </div>
    </section>

    <!-- About -->
    <section id="about" class="section">
      <h1>About Me</h1>
      <div class="about-grid">
        <div class="card">
          <h2>ğŸ“ Education & Interests</h2>
          <p>I am a senior Geomatics Engineering student at Hacettepe University. My main interests are GIS, remote sensing, and spatial data science.</p>
        </div>
        <div class="card">
          <h2>ğŸ’» Technical Skills</h2>
          <p>Experienced in Python, GeoPandas, Rasterio, Scikit-learn, and Tslearn for spatial and time-series analysis. Proficient in ArcGIS and QGIS.</p>
        </div>
        <div class="card">
          <h2>ğŸš€ Professional Experience</h2>
          <p>At Agrovisio, I developed NDVI-based workflows. At Globetech, I analyzed urban data to support planning processes.</p>
        </div>
        <div class="card">
          <h2>ğŸ¶ Personal Life</h2>
          <p>Outside engineering, I enjoy music and outdoor photography. I play guitar and mix creativity with precision.</p>
        </div>
      </div>
      <div class="about-images">
        <img src="images/9749A6DA-06AC-4827-A86F-80CC6911A5DD.jpeg" alt="Guitar performance" />
        <img src="images/0F6DD319-D4F4-4881-9736-01B28E758F86.jpeg" alt="GNSS field survey" />
      </div>
    </section>

    <!-- Experience -->
    <section id="experience" class="section">
      <h1>Experience</h1>
      <div class="experience-grid">
        <div class="exp-card">
          <div class="exp-images">
            <img src="experience images/Ekran Resmi 2025-10-17 15.46.36.png" alt="Agrovisio NDVI Map">
            <img src="experience images/Ekran Resmi 2025-10-17 15.47.09.png" alt="Agrovisio Field Analysis">
          </div>
          <div class="exp-content">
            <h2>Agrovisio Official</h2>
            <h3>Aug 04 â€“ Aug 29, 2025</h3>
            <ul>
              <li>Generated NDVI from Sentinel-2 imagery for agricultural monitoring.</li>
              <li>Clustered NDVI data using KMeans and KShape algorithms.</li>
              <li>Developed Python workflows using Rasterio and GeoPandas.</li>
            </ul>
          </div>
        </div>

        <div class="exp-card">
          <div class="exp-images">
            <img src="experience images/Ekran Resmi 2025-10-17 15.48.26.png" alt="Globetech GIS Analysis">
            <img src="experience images/Ekran Resmi 2025-10-17 15.48.59.png" alt="Globetech Map Visualization">
          </div>
          <div class="exp-content">
            <h2>Globetech â€“ Geographical Information Technologies</h2>
            <h3>Jun 10 â€“ Jul 12, 2024</h3>
            <ul>
              <li>Performed spatial data management and visualization using ArcGIS.</li>
              <li>Analyzed infrastructure and service deficiencies in Ankara neighborhoods.</li>
              <li>Presented results for planning and decision-making.</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

  <!-- ğŸŒ TRAVEL -->
<section id="travel" class="section">
  <h1>âœˆï¸ Travel Distance Calculator</h1>
  <p>Click two locations on the map to calculate distance, flight & drive times, and time difference.</p>

  <div style="position: relative; height: 520px; border-radius: 12px; margin-top: 20px;">
    <!-- Map container -->
    <div id="map" style="height: 100%; width: 100%; border-radius: 12px;"></div>

    <!-- Sol Ã¼st: layer seÃ§ici -->
    <div id="layer-controls" style="position: absolute; top: 10px; left: 10px; z-index: 1000; background: rgba(255,255,255,0.9); padding: 5px 10px; border-radius: 8px;">
      <label><input type="radio" name="basemap" value="map" checked /> ğŸ—ºï¸ Map</label>
      <label style="margin-left:8px;"><input type="radio" name="basemap" value="sat" /> ğŸ›°ï¸ Satellite</label>
    </div>

    <!-- SaÄŸ Ã¼st: Clear All -->
    <div id="map-controls" style="position: absolute; top: 10px; right: 10px; z-index:1000;">
      <button id="clear-btn" style="padding:6px 12px;border:none;border-radius:8px;background:#B91C1C;color:white;cursor:pointer;font-weight:600;">
        ğŸ—‘ï¸ Clear All
      </button>
    </div>
  </div>

  <div id="travel-info"
       style="margin-top: 20px; background: rgba(255,255,255,0.9);
              padding: 15px; border-radius: 10px; min-height: 100px;">
  </div>
</section>

<script>
const bg = document.querySelector('.background');
function showSection(id){
  document.querySelectorAll('.section').forEach(sec=>sec.classList.remove('visible'));
  const target=document.getElementById(id);
  setTimeout(()=>target.classList.add('visible'),100);
  bg.style.opacity=id==='home'?'1':'0.35';
  if(id==='travel'&&map) setTimeout(()=>map.invalidateSize(),300);
}

// ğŸŒ Map setup
const map = L.map('map',{zoomControl:true}).setView([39,35],6);
const streets=L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',{maxZoom:18,attribution:'Â© OpenStreetMap'}).addTo(map);
const satellite=L.tileLayer('https://{s}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}',
  {subdomains:['mt0','mt1','mt2','mt3'],maxZoom:20,attribution:'Google Satellite'});

// Sol Ã¼st: layer radio control
document.querySelectorAll('input[name="basemap"]').forEach(r=>{
  r.addEventListener('change',()=>{
    if(r.value==='map'){ map.removeLayer(satellite); streets.addTo(map); }
    else{ map.removeLayer(streets); satellite.addTo(map); }
  });
});

// âœˆï¸ Emoji plane marker
const planeIcon=L.divIcon({className:'plane-icon',html:'âœˆï¸',iconSize:[24,24],iconAnchor:[12,12]});
let points=[],markers=[],line=null,planeMarker=null;

map.on('click',async e=>{
  if(points.length>=2){
    L.popup().setLatLng(e.latlng).setContent('âš ï¸ Only two points allowed! Clear to reset.').openOn(map);
    return;
  }
  const place=await getPlaceName(e.latlng.lat,e.latlng.lng);
  const marker=L.marker(e.latlng).addTo(map).bindPopup(`<b>${place}</b>`).openPopup();
  markers.push(marker); points.push(e.latlng);

  marker.on('click',()=>{
    const popup=L.popup({closeButton:false})
      .setLatLng(e.latlng)
      .setContent(`<button class="remove-btn"
          style="background:#B91C1C;color:white;border:none;border-radius:6px;
                 padding:4px 8px;cursor:pointer;">KaldÄ±r</button>`);
    popup.openOn(map);
    const btn=document.querySelector('.remove-btn');
    if(btn) btn.onclick=()=>{
      map.removeLayer(marker); map.closePopup(popup);
      const i=markers.indexOf(marker);
      if(i!==-1){markers.splice(i,1);points.splice(i,1);}
      if(line) map.removeLayer(line);
      if(planeMarker) map.removeLayer(planeMarker);
      document.getElementById('travel-info').innerHTML='';
    };
  });

  if(points.length===2){
    await calculateTravel(points[0],points[1]);
    animatePlane(points[0],points[1]);
  }
});

async function getPlaceName(lat,lon){
  const url=`https://nominatim.openstreetmap.org/reverse?lat=${lat}&lon=${lon}&format=json`;
  try{
    const res=await fetch(url);
    const d=await res.json();
    const city=d.address.city||d.address.town||d.address.village||'Unknown city';
    const country=d.address.country||'Unknown country';
    return `${city}, ${country}`;
  }catch{return'Unknown location';}
}

async function calculateTravel(p1,p2){
  const R=6371,dLat=(p2.lat-p1.lat)*Math.PI/180,dLon=(p2.lng-p1.lng)*Math.PI/180;
  const a=Math.sin(dLat/2)**2+
          Math.cos(p1.lat*Math.PI/180)*Math.cos(p2.lat*Math.PI/180)*Math.sin(dLon/2)**2;
  const c=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)),dist=R*c;
  const flight=dist/850,drive=dist/90,timeDiff=((p2.lng-p1.lng)/15).toFixed(1);
  const loc1=await getPlaceName(p1.lat,p1.lng),loc2=await getPlaceName(p2.lat,p2.lng);
  document.getElementById('travel-info').innerHTML=`
    <h3>ğŸ“ Travel Info</h3>
    <p><b>From:</b> ${loc1}</p>
    <p><b>To:</b> ${loc2}</p>
    <p><b>Distance:</b> ${dist.toFixed(2)} km</p>
    <p><b>âœˆï¸ Flight Time:</b> ${flight.toFixed(2)} h</p>
    <p><b>ğŸš— Drive Time:</b> ${drive.toFixed(2)} h</p>
    <p><b>ğŸ•“ Time Diff:</b> ${timeDiff} h</p>`;
}

function animatePlane(p1,p2){
  const steps=100,latStep=(p2.lat-p1.lat)/steps,lonStep=(p2.lng-p1.lng)/steps;
  let i=0,path=[];
  if(line) map.removeLayer(line);
  if(planeMarker) map.removeLayer(planeMarker);
  planeMarker=L.marker([p1.lat,p1.lng],{icon:planeIcon}).addTo(map);
  const t=setInterval(()=>{
    if(i>steps){clearInterval(t);return;}
    const lat=p1.lat+latStep*i,lon=p1.lng+lonStep*i;
    path.push([lat,lon]);
    if(line) map.removeLayer(line);
    line=L.polyline(path,{color:"black",weight:2}).addTo(map);
    planeMarker.setLatLng([lat,lon]);
    i++;
  },25);
}

// Koordinat paneli
const coordBox=L.control({position:'bottomright'});
coordBox.onAdd=()=>{
  const div=L.DomUtil.create('div','coord-box');
  div.style.background='rgba(255,255,255,0.9)';
  div.style.padding='6px 10px';div.style.borderRadius='8px';div.style.fontSize='13px';
  div.innerHTML='Lat: â€” , Lng: â€”';
  map.on('mousemove',e=>{
    div.innerHTML=`Lat: ${e.latlng.lat.toFixed(4)}, Lng: ${e.latlng.lng.toFixed(4)}`;
  });
  return div;
};
coordBox.addTo(map);

// Clear All
document.getElementById('clear-btn').addEventListener('click',()=>{
  markers.forEach(m=>map.removeLayer(m));
  if(line) map.removeLayer(line);
  if(planeMarker) map.removeLayer(planeMarker);
  points=[];markers=[];line=null;
  document.getElementById('travel-info').innerHTML='';
});
</script>


    <!-- Contact -->
    <section id="contact" class="section">
      <h1>Contact</h1>
      <p><b>ğŸ“§</b> <a href="mailto:kiziltepeirem2002@gmail.com">kiziltepeirem2002@gmail.com</a></p>

      <div class="contact-form">
        <input type="text" placeholder="Name" />
        <input type="text" placeholder="Surname" />
        <input type="email" placeholder="Email" />
        <textarea rows="4" placeholder="Message"></textarea>
        <button>Send Message</button>
      </div>

      <div class="social-links">
        <a href="https://github.com/irem122" target="_blank">
          <img src="https://cdn-icons-png.flaticon.com/512/733/733609.png" alt="GitHub">
        </a>
        <a href="https://www.linkedin.com/in/irem-kÄ±zÄ±ltepe/" target="_blank">
          <img src="https://cdn-icons-png.flaticon.com/512/174/174857.png" alt="LinkedIn">
        </a>
      </div>
    </section>
  </div>
